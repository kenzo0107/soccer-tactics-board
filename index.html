<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>サッカー作戦盤</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <div class="container">
    <div class="field-container">
      <canvas id="field" width="400" height="660"></canvas>
    </div>

    <div class="toolbar">
      <button id="addRedPlayer" class="btn btn-red">+赤選手</button>
      <button id="addBluePlayer" class="btn btn-blue">+青選手</button>
      <button id="addBall" class="btn btn-ball">+ボール</button>
      <button id="addMarker" class="btn btn-marker">+マーカー</button>
      <button id="addComment" class="btn btn-comment">+吹き出し</button>
      <button id="deleteSelected" class="btn btn-delete">削除</button>
    </div>

    <div class="control-panel">
      <div class="playback-controls">
        <button id="prevStep" class="btn">◀ 前へ</button>
        <button id="playPause" class="btn btn-primary">▶ 再生</button>
        <button id="nextStep" class="btn">次へ ▶</button>
      </div>
      <div class="slider-container">
        <input type="range" id="stepSlider" min="0" max="0" value="0" step="1">
        <span id="stepInfo">ステップ 0/0</span>
      </div>
    </div>

    <div class="save-panel">
      <button id="saveStep" class="btn btn-success">ステップ保存</button>
      <button id="updateStep" class="btn btn-primary">ステップ更新</button>
      <button id="deleteStep" class="btn btn-delete">ステップ削除</button>
    </div>
  </div>

  <button id="menuButton" class="menu-button">MENU</button>

  <div id="menuOverlay" class="menu-overlay"></div>
  <div id="sideMenu" class="side-menu">
    <div class="side-menu-header">
      <h2>メニュー</h2>
      <button id="closeSideMenu" class="close-menu-btn">×</button>
    </div>

    <div class="side-menu-content">
      <div class="save-animation-section">
        <input type="text" id="animationNameInput" placeholder="アニメーション名を入力" class="animation-name-input">
        <button id="saveAnimation" class="btn btn-success btn-block">現在のアニメーションを保存</button>
      </div>

      <div class="preset-section">
        <h3>プリセット</h3>
        <div class="preset-list">
          <div class="preset-item" data-preset="2vs1">
            <span class="preset-name">2vs1 攻め方</span>
            <button class="btn btn-sm btn-primary load-preset-btn">読み込み</button>
          </div>
          <div class="preset-item" data-preset="3vs2">
            <span class="preset-name">3vs2 攻め方</span>
            <button class="btn btn-sm btn-primary load-preset-btn">読み込み</button>
          </div>
        </div>
      </div>

      <div class="saved-animations-section">
        <h3>保存済み</h3>
        <div id="savedAnimationsList" class="saved-animations-list">
          <p class="empty-message">保存されたアニメーションはありません</p>
        </div>
      </div>

      <div class="data-management-section">
        <h3>データ管理</h3>
        <div class="data-management-buttons">
          <button id="saveLocal" class="btn btn-block">LocalStorageに保存</button>
          <button id="exportJson" class="btn btn-block">JSON出力</button>
          <label for="importJson" class="btn btn-block btn-file-label">
            JSON読込
            <input type="file" id="importJson" accept=".json" style="display: none;">
          </label>
          <button id="clearAll" class="btn btn-delete btn-block">全クリア</button>
        </div>
      </div>
    </div>
  </div>

  <script type="module" src="js/app.js?v=1.2.0"></script>
</body>
</html>
