<img src="tactics-2vs1-1.gif" width="200px">

# サッカー作戦盤

縦長フィールドのサッカー作戦盤Webアプリケーション。選手を自由に配置し、段階的に動きを保存してアニメーション化できます。

## 機能

- **選手配置**: 赤チーム・青チームの選手を自由に追加・配置
- **オブジェクト追加**: ボール、マーカーも配置可能
- **吹き出し追加**: テキスト付きの吹き出しを追加して説明を記載
- **ドラッグ&ドロップ**: マウスやタッチで自由に移動
- **アニメーション**: 段階的な動きを保存して再生
- **自動再生**: ステップを自動で再生
- **手動制御**: 前へ/次へボタンやスライダーで操作
- **プリセット**: あらかじめ用意された作戦パターンを読み込み
- **データ保存**: LocalStorageに自動保存
- **エクスポート/インポート**: JSON形式でデータの保存・読み込み

## 使い方

### 基本操作

1. `python3 -m http.server 8000` 実行
1. ブラウザで `http://localhost:8000/index.html` を開く
2. ツールバーのボタンで選手やオブジェクトを追加
   - **+赤選手**: 赤チームの選手を追加
   - **+青選手**: 青チームの選手を追加
   - **+ボール**: ボールを追加
   - **+マーカー**: マーカーを追加
3. 選手やオブジェクトをドラッグして配置
4. **削除**ボタンで選択中のオブジェクトを削除

### アニメーション作成

1. 選手を配置して「ステップ保存」をクリック
2. 選手を移動して再度「ステップ保存」をクリック
3. この手順を繰り返して作戦を作成
4. コントロールパネルで再生:
   - **▶ 再生**: 自動再生開始
   - **◀ 前へ**: 前のステップへ
   - **次へ ▶**: 次のステップへ
   - **スライダー**: 任意のステップに移動

### データの保存と共有

- **ブラウザに保存**: ブラウザに保存（リロード後も復元）
- **JSON出力**: 作戦をファイルとしてダウンロード
- **JSON読込**: 保存した作戦ファイルを読み込み

### プリセットの追加

1. メニューから「データ出力」で現在の作戦をJSONファイルとして保存
2. 保存したJSONファイルを `presets/` ディレクトリに配置
3. `js/presets.js` の `presetFiles` 配列にファイル名を追加

```javascript
const presetFiles = [
  'tactics-2vs1-1.json',
  'your-new-preset.json'  // 追加
];
```

## 技術スタック

- HTML5 Canvas API
- Pure JavaScript (ES6 Modules)
- LocalStorage API
- レスポンシブデザイン

## ファイル構成

```
soccer-tactics-board/
├── index.html              # メインHTML
├── css/
│   └── style.css           # スタイルシート
├── js/
│   ├── app.js              # アプリケーションメイン
│   ├── state.js            # ステート管理
│   ├── canvas.js           # Canvas描画
│   ├── dragdrop.js         # ドラッグ&ドロップ
│   ├── animation.js        # アニメーション制御
│   ├── animationManager.js # アニメーション管理
│   ├── presets.js          # プリセット管理
│   └── storage.js          # データ保存・読込
├── presets/                # プリセットファイル
│   └── tactics-2vs1-1.json
└── README.md
```

## ブラウザ対応

モダンブラウザ（Chrome, Firefox, Safari, Edge）に対応しています。
